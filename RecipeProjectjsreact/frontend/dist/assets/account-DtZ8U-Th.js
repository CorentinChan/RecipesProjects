import{r as t,j as e,a as f,u as y}from"./index-BZBRw6kG.js";import{C as G}from"./cardUser-Cj2QaJx7.js";function K({user:h,userRole:g}){const[p,m]=t.useState(""),[c,n]=t.useState(""),[o,l]=t.useState(""),[a,r]=t.useState("");async function i(){console.log(p);let d=c,v=o,b=p;try{const{data:j}=await f.post("https://corentinchan.de/changePassword",{passwordNew:d,passwordNew2:v,passwordCurrent:b},{headers:{"Content-Type":"application/json"},withCredentials:!0});r(j.message),console.log("Réponse backend :",j)}catch(j){console.error("Erreur lors de la connexion :",j),r(j.response?.data?.message||"Erreur réseau")}}return e.jsxs("div",{children:[e.jsx("button",{type:"button",className:" bg-transparent border-0","data-bs-toggle":"modal","data-bs-target":"#passwordModal",children:e.jsxs("div",{className:"logo1  p-3  px-lg-3 align-items-center text-center border-end",children:[e.jsx("i",{className:"fa-solid fa-key fs-3"}),e.jsx("p",{className:"m-0 p-0",children:"Change password"})]})}),e.jsx("div",{className:"modal fade mt-5",id:"passwordModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Modify your password"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("form",{id:"changePasswordForm",onSubmit:i,children:e.jsxs("div",{className:"modal-body d-flex flex-column align-items-center",children:[e.jsx("label",{className:"form-label",children:"Current password"}),e.jsx("input",{type:"password",className:"form-control form-control-sm mb-5 p-2 w-75",minLength:"4",maxLength:15,name:"passwordCurrent",value:p,onChange:d=>m(d.target.value)}),e.jsx("label",{className:"form-label",children:"New password"}),e.jsx("input",{type:"password",className:"form-control form-control-sm mb-5 p-2 w-75",minLength:"4",maxLength:15,name:"passwordNew",value:c,onChange:d=>n(d.target.value)}),e.jsx("label",{className:"form-label",children:"Retype password"}),e.jsx("input",{type:"password",className:"form-control form-control-sm mb-5 p-2 w-75",minLength:"4",maxLength:15,name:"passwordNew2",value:o,onChange:d=>l(d.target.value)})]})}),e.jsx("p",{className:"text-center  text-info",children:a}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",id:"changePasswordButton",onClick:i,children:"Change password"})]})]})})})]})}function Q({user:h,profilParent:g,setProfilParent:p}){const[m,c]=t.useState(""),[n,o]=t.useState(""),l=y();t.useEffect(()=>{c(g)},[g]);async function a(r){r.preventDefault(),console.log(m);try{let i=m.pseudo,d=m.image,v=m.description;const{data:b}=await f.post("https://corentinchan.de/modifyProfil",{pseudo:i,image:d,description:v},{headers:{"Content-Type":"application/json"},withCredentials:!0});o(b.message),console.log("Réponse backend :",b),b.message==="Profil udpated"&&(console.log("succeed"),l(0))}catch(i){console.error("Erreur lors de la connexion :",i),o(i.response?.data?.message||"Erreur réseau")}}return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"bg-transparent border-0 p-0 m-0","data-bs-toggle":"modal","data-bs-target":"#profilModal",children:e.jsxs("div",{className:"logo3 p-3 px-4 px-lg-5 text-center border-end",children:[e.jsx("i",{className:"fa-solid fa-users fs-3"}),e.jsx("p",{className:"m-0 p-0",children:"Modify profil"})]})}),e.jsx("div",{className:"modal fade mt-5",id:"profilModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",children:e.jsx("div",{className:"modal-content",children:e.jsxs("form",{onSubmit:a,children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Modify Profil"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body d-flex flex-column align-items-center",children:[e.jsx("label",{htmlFor:"pseudo",className:"form-label",children:"Pseudo"}),e.jsx("input",{className:"form-control form-control-sm mb-5 p-2 w-75",type:"text",minLength:3,maxLength:15,value:m.pseudo,onChange:r=>c(i=>({...i,pseudo:r.target.value}))}),e.jsx("label",{htmlFor:"image",className:"form-label",children:"Your Picture"}),e.jsx("input",{className:"form-control form-control-sm mb-5 p-2 w-100",type:"text",placeholder:"",name:"image",minLength:3,value:m.image,onChange:r=>c(i=>({...i,image:r.target.value}))}),e.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),e.jsx("textarea",{className:"form-control mb-5 p-2 w-100",placeholder:"description",name:"description",minLength:3,maxLength:100,value:m.description,onChange:r=>c(i=>({...i,description:r.target.value}))}),e.jsx("p",{className:"text-center text-info",children:n})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save changes"})]})]})})})})]})}function H(){const h=y(),[g,p]=t.useState(""),[m,c]=t.useState(""),[n,o]=t.useState([]),[l,a]=t.useState(""),[r,i]=t.useState(""),[d,v]=t.useState(null),[b,j]=t.useState(""),[L,B]=t.useState(""),[E,$]=t.useState(""),[P,z]=t.useState(""),[D,U]=t.useState(""),[w,A]=t.useState(Array(3).fill(null)),[C,M]=t.useState(Array(2).fill(null)),[k,F]=t.useState(Array(2).fill(null)),[S,I]=t.useState([""]),Z=()=>A([...w,""]),J=()=>{M([...C,""]),F([...k,""])},V=()=>I([...S,""]),T=(s,u,x,O)=>{const R=[...O];R[u]=x,s(R)};t.useEffect(()=>{async function s(){const x=await(await fetch("https://corentinchan.de/getCategory",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();console.log("Réponse backend cat :",x.category),o(x.category),x.category&&x.category.length>0&&c(x.category[0].id)}s()},[]);async function Y(s){s.preventDefault();let u=m;console.log({steps:w,ingredients:C,measures:k,tags:S,categoryID:u});const x=new FormData;if(!["image/jpeg","image/png"].includes(d.type))return alert("Format d'image non supporté"),!1;if(d.size>3*1024*1024){alert("File size too large! ");return}d&&x.append("image",d);const R={title:l,description:b,image:r,activeTime:L,totalTime:E,nbPerson:P,categoryID:u,author:D,steps:w,ingredients:C,tags:S,measures:k};x.append("data",JSON.stringify(R));try{const{data:N}=await f.post("https://corentinchan.de/createRecipe",x,{withCredentials:!0});p(N.message),console.log("Réponse backend :",N),N.succeed&&(console.log("succed"),h(0))}catch(N){console.error("Erreur lors de la connexion :",N),p(N.response?.data?.message||"Erreur réseau")}}const q=s=>{s.target.files&&v(s.target.files[0])};return e.jsxs("form",{onSubmit:Y,children:[e.jsx("section",{className:"recipeTitle gx-0",children:e.jsxs("div",{className:"container justify-content-center",children:[e.jsx("h3",{className:"m-5 p-3 text-center bg-danger rounded-4 text-white",children:"Write your own recipe!"}),e.jsx("label",{className:"form-label",children:"Recipe Title"}),e.jsx("input",{className:"form-control form-control-sm mb-5 p-2 w-100",type:"text",placeholder:"enter title recipe",value:l,onChange:s=>a(s.target.value),minLength:4,maxLength:37}),e.jsx("label",{className:"form-label",children:"Recipe Description"}),e.jsx("input",{className:"form-control form-control-sm mb-5 p-2 w-100",type:"text",maxLength:100,placeholder:"enter description recipe",value:b,onChange:s=>j(s.target.value)}),e.jsx("label",{className:"form-label",children:"Recipe Picture"}),e.jsx("input",{className:"form-control form-control-sm  p-2 w-100",type:"text",maxLength:3e3,placeholder:"enter picture url",value:r,onChange:s=>i(s.target.value)}),e.jsxs("div",{className:"m-2 mb-5 d-flex justify-content-center text-center aligns-item-center flex-column",children:[e.jsx("label",{className:"form-label mt-2 mt-3 text-black-50",children:"Or upload your picture ( max 3MB, only jpg/png )"}),e.jsx("input",{className:"",type:"file",onChange:q,accept:".jpg,.jpeg,.png"})]}),e.jsxs("div",{className:"d-flex text-center descriptionLogos border",children:[e.jsxs("div",{className:"logo1 p-2 mx-2 m-lg-3 px-lg-5 text-center border-end",children:[e.jsx("i",{className:"fa-regular fa-clock fs-3 rotatec"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"enter active time",maxLength:20,value:L,onChange:s=>B(s.target.value)})]}),e.jsxs("div",{className:"logo2 p-2 mx-2 m-lg-3 px-lg-5 text-center border-end",children:[e.jsx("i",{className:"fa-solid fa-clock-rotate-left fs-3 rotatec"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"enter total time",maxLength:20,value:E,onChange:s=>$(s.target.value)})]}),e.jsxs("div",{className:"logo3 p-2 mx-2 m-lg-3 px-lg-5 text-center",children:[e.jsx("i",{className:"fa-solid fa-users fs-3"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"enter yield",maxLength:20,value:P,onChange:s=>z(s.target.value)})]})]}),e.jsx("div",{className:"d-flex ",children:e.jsx("div",{className:"-flex flex-column align-items-start  mt-5 bottomDescription",children:e.jsxs("div",{className:"container",children:[e.jsx("label",{className:"form-label",children:"Recipe Author"}),e.jsx("input",{className:"form-control form-control-sm mb-5 w-100",type:"text",placeholder:"enter name author",value:D,onChange:s=>U(s.target.value),maxLength:20})]})})}),e.jsxs("div",{className:"d-flex flex-column align-items-start ms-3",children:[e.jsx("label",{className:"form-label ms-5 ",children:"Category"}),e.jsxs("select",{className:"form-select  mb p-2",defaultValue:m,"aria-label":"Default select example",onChange:s=>c(s.target.value),value:m,children:[e.jsx("option",{disabled:!0,children:"choose category"}),n.map(s=>e.jsx("option",{value:s.id,children:s.name},`category+${s.id}`))]})]})]})}),e.jsxs("section",{className:"m-1 p-1 m-lg-5 p-lg-3 makeRecipe-container",children:[e.jsx("div",{className:"recipeLeft",children:e.jsxs("div",{className:"recipeSteps",children:[e.jsx("h2",{className:"mt-5 my-lg-0",children:"How to make it"}),e.jsx("ol",{className:"mt-lg-4 list-group instructionsList",children:w.map((s,u)=>e.jsxs("li",{className:"list-group-item border-0 mb-2",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fa-regular fa-circle-check fs-2 me-3"}),e.jsxs("h4",{className:"text-danger pt-1",children:["STEP ",u+1]})]}),e.jsx("div",{className:"border-top my-2"}),e.jsx("input",{className:"form-control form-control-sm m-2 p-2 w-100",type:"text",placeholder:`write step ${u+1}`,value:s,onChange:x=>T(A,u,x.target.value,w)})]},u))}),e.jsx("i",{className:"fa-regular fa-plus fs-5 my-2 mx-3  clickable",onClick:Z,children:e.jsx("span",{className:"",children:"Add more steps"})})]})}),e.jsxs("div",{className:"recipeRight",children:[e.jsxs("div",{className:"d-lg-flex mt-5 mt-lg-0 recipeIngredients",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Ingredients"}),e.jsx("ul",{className:"list-group list-unstyled ingredientsList",children:C.map((s,u)=>e.jsx("li",{className:"mb-2",children:e.jsx("input",{className:"form-control form-control-sm m-2 p-2 w-100",type:"text",placeholder:`write ingredient ${u+1}`,value:s,onChange:x=>T(M,u,x.target.value,C)})},u))})]}),e.jsxs("div",{children:[e.jsx("h2",{children:"Measure"}),e.jsx("ul",{className:"list-group measureList list-unstyled",children:k.map((s,u)=>e.jsx("li",{className:"mb-2",children:e.jsx("input",{className:"form-control form-control-sm m-2  p-2 w-100",type:"text",placeholder:`write measure ${u+1}`,value:s,onChange:x=>T(F,u,x.target.value,k)})},u))})]})]}),e.jsx("i",{className:"fa-regular fa-plus  fs-5 my-2 mb-3  mx-3 clickable",onClick:J,children:e.jsx("span",{className:"",children:"Add more ingredients"})}),e.jsxs("div",{className:"pt-3 mt-3",children:[e.jsx("h3",{children:"Tags"}),e.jsx("div",{className:"dflex tags",children:S.map((s,u)=>e.jsx("input",{className:"form-control form-control-sm m-2 p-2 w-100",type:"text",placeholder:`write TAG ${u+1}`,value:s,onChange:x=>T(I,u,x.target.value,S)},u))}),e.jsx("i",{className:"fa-regular fa-plus  fs-5 my-2 mb-3 mx-3 clickable",onClick:V,children:e.jsx("span",{className:"",children:"Add more tags"})})]})]})]}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx("button",{type:"submit",className:"text-center btn btn-danger p-3 px-5 mb-5 fs-4 rounded-pill",children:"Submit"})})]})}function W({user:h,userRole:g}){const[p,m]=t.useState(""),[c,n]=t.useState("");let o=y();async function l(){try{const a=await f.post("https://corentinchan.de/deleteProfil",{},{headers:{"Content-Type":"application/json"},withCredentials:!0});o("/")}catch(a){console.error("Erreur suppression profil :",a),n("Erreur lors de la suppression du profil")}}return t.useEffect(()=>{async function a(){const i=(await f.get("https://corentinchan.de/getProfil",{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;console.log("Réponse backend cat :",i),m(i.user),(!i.user.image||i.user.image==="")&&(i.user.image="https://picsum.photos/400/250?random=1")}a()},[]),e.jsx("div",{className:"d-lg-flex container mx-lg-5 px-lg-5",children:p&&h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-lg-6 justify-content-center",children:e.jsxs("div",{className:"mx-lg-5 pt-3 descriptionRecipe",children:[e.jsxs("h1",{className:"fade-in fs-1 text-center mx-lg-5 mt-3 my-lg-5 mb-4",children:["Bonjour,",g==="admin"&&e.jsx("span",{className:"text-warning",children:" Master"})," ",h," !"]}),e.jsxs("div",{className:"d-flex text-center descriptionLogos border-bottom border-top",children:[e.jsx(K,{}),e.jsx(Q,{profilParent:p,setProfilParent:m}),e.jsx("button",{type:"button",className:"bg-transparent border-0 p-0 m-0","data-bs-toggle":"modal","data-bs-target":"#modalCreateRecipe",children:e.jsxs("div",{className:"logo3 p-3 px-lg-5 text-center",children:[e.jsx("i",{className:"fa-solid fa-utensils fs-3"}),e.jsx("p",{className:"m-0 p-0",children:"Create recipe"})]})}),e.jsx("div",{className:"modal fade",id:"modalCreateRecipe",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-fullscreen",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Create your Recipe"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx(H,{})})]})})})]}),e.jsx("div",{className:"text-center fst-italic m-3 py-lg-2 px-lg-5",children:p?.description}),e.jsx("div",{className:" d-flex justify-content-center",children:e.jsx("button",{className:"btn-danger bg-danger rounded-pill",type:"button",onClick:()=>{window.confirm("Are you sure, your data will be deleted ?")&&l()},children:"Delete Account"})})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsx("div",{className:"justify-content-center image-container",children:e.jsx("img",{src:p?.image,className:"tilt1 pt-3 rounded-5 recipePhoto",alt:"image"})})})]})})}function X(){const[h,g]=t.useState([]),[p,m]=t.useState([]);y();async function c(){const a=(await f.get("https://corentinchan.de/getComments",{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;console.log("Réponse backend account:",a),m(a.notes),g(a.comments)}t.useEffect(()=>{c()},[]);async function n(l){l.preventDefault();let a=l.target.value;console.log(a);try{const{data:r}=await f.post("https://corentinchan.de/deleteComm",{recipeID:a},{headers:{"Content-Type":"application/json"},withCredentials:!0});console.log("Réponse backend delete comm :",r),r.check&&c()}catch(r){console.error("Erreur lors de la connexion :",r)}}async function o(l){l.preventDefault();let a=l.target.value;console.log(a);try{const{data:r}=await f.post("https://corentinchan.de/deleteNote",{recipeID:a},{headers:{"Content-Type":"application/json"},withCredentials:!0});console.log("Réponse backend delete own :",r),r.check&&c()}catch(r){console.error("Erreur lors de la connexion :",r)}}return e.jsx("div",{className:"d-flex justify-content-center m-2 m-lg-5",id:"comment",children:e.jsxs("div",{className:"accordion accordion-flush bg-light w-100 w-lg-75 justify-content-center mt-3 text-center mx-2 me-4",id:"accordionFlushExample",children:[e.jsxs("div",{className:"accordion-item text-center w-100",children:[e.jsx("h2",{className:"accordion-header",id:"flush-headingOne",children:e.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne",children:"My Comments"})}),e.jsx("div",{id:"flush-collapseOne",className:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{className:"list-unstyled",children:h.map((l,a)=>e.jsxs("li",{className:"d-lg-flex flex-column bg-warning-subtle mb-2 p-1 rounded-2 border",children:[e.jsxs("p",{children:[l.title," : "]}),e.jsx("p",{children:l.commentaire}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"rounded-5 bg-danger",value:l.recipeID,onClick:n,children:"Delete"})})]},`comlist${a}`))})})})]}),e.jsxs("div",{className:"accordion-item w-100",children:[e.jsx("h2",{className:"accordion-header",id:"flush-headingTwo",children:e.jsx("button",{className:"accordion-button collapsed text-center",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo",children:"My notes"})}),e.jsx("div",{id:"flush-collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"flush-headingTwo","data-bs-parent":"#accordionFlushExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{className:"list-unstyled",children:p.map((l,a)=>e.jsxs("li",{className:"d-flex flex-column  justify-content-center bg-warning-subtle mb-2 p-1 rounded-2 border",children:[e.jsx("p",{className:"text-center me-1",children:l.title}),e.jsxs("p",{children:["note : ",l.note," / 5"]}),e.jsx("div",{children:e.jsx("button",{className:"btn-danger bg-danger border-1 rounded-5 mx-2 mx-lg-5",value:l.recipeID,type:"button",onClick:o,children:"Delete"})})]},`notelist${a}`))})})})]})]})})}function _(){y();const[h,g]=t.useState([]);async function p(){const n=(await f.get("https://corentinchan.de/getRecipesList",{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;console.log("Réponse backend account:",n),g(n.recipesList)}t.useEffect(()=>{p()},[]);async function m(c){let n="favoris";console.log(c);try{const{data:o}=await f.post("https://corentinchan.de/deleteRecipeList",{recipeID:c,type:n},{headers:{"Content-Type":"application/json"},withCredentials:!0});console.log("Réponse backend delete list :",o),o.check&&(console.log("delete recipelist"),p())}catch(o){console.error("Erreur lors de la connexion :",o)}}return e.jsxs("div",{className:" container-fluid pb-5",id:"fav",children:[e.jsx("div",{className:"videoTitle m-3 m-lg-5 justify-content-center",children:e.jsx("h2",{className:"bg-danger-subtle text-danger border rounded-pill p-2",children:"Your favorites recipes"})}),e.jsx("div",{className:" m-lg-5 d-flex flex-nowrap  overflow-x z-5",id:"videos-container",children:h&&h.map((c,n)=>{const o=String(c.id);return e.jsxs("div",{className:"cardExt",children:[e.jsx(G,{id:o,title:c.title,img:c.image?c.image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwAdnj607fkyztZ3TkKVTdEy-FG-tD-gEGJQ&s"}),e.jsx("div",{className:"d-flex flex-column flex-lg-row justify-content-around ",children:e.jsx("button",{className:"btn  text-center rounded-pill mx-1  mb-2 bg-danger border border-black",name:"deleteOwn",onClick:()=>m(o),children:"Delete"})})]},`recipeList ${o}`)})})]})}function ee(){const h=y(),[g,p]=t.useState([]);async function m(){const o=(await f.get("https://corentinchan.de/getOwnRecipes",{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;console.log("Réponse backend account:",o),p(o.ownRecipes)}t.useEffect(()=>{m()},[]);async function c(n){n.preventDefault();let o=n.target.value;console.log(o);try{const{data:l}=await f.post("https://corentinchan.de/deleteRecipe",{recipeID:o},{headers:{"Content-Type":"application/json"},withCredentials:!0});console.log("Réponse backend delete own :",l),l.check&&(console.log("delete ownrecipes"),m())}catch(l){console.error("Erreur lors de la connexion :",l)}}return e.jsxs("div",{className:" bg-light container-fluid py-5",id:"fav",children:[e.jsx("div",{className:"videoTitle m-3 m-lg-5 justify-content-center",children:e.jsx("h2",{className:"bg-danger-subtle text-danger border rounded-pill p-2",children:"Your own recipes"})}),e.jsx("div",{className:" m-lg-5 d-flex flex-nowrap  overflow-x z-6",id:"videos-container",children:g&&g.map((n,o)=>e.jsxs("div",{className:"cardExt",children:[e.jsx(G,{id:n.id,title:n.title,img:n.image?n.image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwAdnj607fkyztZ3TkKVTdEy-FG-tD-gEGJQ&s"}),e.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-around  ",children:[e.jsx("button",{className:"btn  text-center rounded-pill mx-1  mb-2 bg-primary border border-black",onClick:()=>h("/modifyRecipe",{state:{recipeID:n.id}}),name:"modifyOwn",value:"recipe.id",children:"Modify"}),e.jsx("button",{className:"btn  text-center rounded-pill mx-1  mb-2 bg-danger border border-black",name:"deleteOwn",value:n.id,onClick:c,children:"Delete"})]})]},`ownrecipe ${n.id}`))})]})}function se(){const[h,g]=t.useState(""),[p,m]=t.useState(""),[c,n]=t.useState("");async function o(a){a.preventDefault();let r=a.target.value,i=h;console.log(r+"   "+i);try{const{data:d}=await f.post("https://corentinchan.de/giveAdmin",{act:r,pseudo:i},{headers:{"Content-Type":"application/json"},withCredentials:!0});n(i+" : "+d.message),console.log("Réponse backend delete comm :",d)}catch(d){console.error("Erreur lors de la connexion :",d),n(d.response?.data?.message||"Erreur réseau")}}async function l(a){a.preventDefault();let r=a.target.value,i=p;console.log(r);try{const{data:d}=await f.post("https://corentinchan.de/ban",{act:r,pseudo:i},{headers:{"Content-Type":"application/json"},withCredentials:!0});n(i+" : "+d.message),console.log("Réponse backend delete comm :",d)}catch(d){console.error("Erreur lors de la connexion :",d),n(d.response?.data?.message||"Erreur réseau")}}return e.jsxs("div",{className:" container-fluid  py-5   ",children:[e.jsx("div",{className:"videoTitle m-3 m-lg-5 justify-content-center",children:e.jsx("h2",{className:" bg-danger-subtle text-danger border rounded-pill p-2 ",children:"Admin Zone"})}),e.jsxs("div",{className:"d-flex  flex-column flex-lg-row justify-content-around",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{children:"BAN/UNBAN User :"}),e.jsx("p",{children:"type pseudo or mail"}),e.jsxs("form",{method:"post",action:"ban",children:[e.jsx("input",{type:"text",placeholder:"enter pseudo name ",minLength:"4",name:"pseudo",onChange:a=>m(a.target.value),value:p}),e.jsx("button",{type:"submit",className:"btn-warning bg-warning",name:"act",value:"ban",onClick:l,children:"BAN"}),e.jsx("button",{type:"submit",className:"btn-warning bg-primary",name:"act",value:"unban",onClick:l,children:"UNBAN"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{children:"Give Admin Right :"}),e.jsx("p",{children:"type pseudo or mail"}),e.jsx("input",{type:"text",placeholder:"enter pseudo name",minLength:"4",onChange:a=>g(a.target.value),value:h}),e.jsx("button",{type:"button",className:"btn-warning bg-primary",value:"giveAdmin",onClick:o,children:"Give"}),e.jsx("button",{type:"button",className:"btn-warning bg-warning",value:"removeAdmin",onClick:o,children:"Remove"})]})]}),e.jsx("p",{className:"text-center text-info",children:c})]})}function ne({user:h,userRole:g}){return h&&e.jsxs(e.Fragment,{children:[e.jsx(W,{user:h,userRole:g}),e.jsx(X,{}),e.jsx(_,{}),e.jsx(ee,{}),g==="admin"?e.jsx(se,{}):void 0]})}export{ne as default};
