import{j as e,u as y,r as i,a as T,S as R}from"./index-iUotBdvw.js";import{S as A,C as D}from"./searchBar-C9yU-QiZ.js";function V({keyword:t,setKeyword:s}){return e.jsxs("div",{className:"recipeMenu my-4",children:[e.jsx("h2",{className:"ms-4 ",children:" Recipes"}),e.jsx("div",{className:"container mt-3 ",children:e.jsxs("div",{className:"accordion",id:"menuAccordion",children:[e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button bg-light fs-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true",children:"Dishes"})}),e.jsx("div",{id:"collapseOne",className:"accordion-collapse collapse show","data-bs-parent":"#menuAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsx("div",{className:"textSearchMenu",onClick:()=>s("breakfast"),children:"Breakfast"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("pasta"),children:"Pasta"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("beef"),children:"Beef"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("chicken"),children:"Chicken"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("seafood"),children:"Sea Food"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("side"),children:"Side"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("dessert"),children:"Dessert"})]})})]}),e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button bg-light collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false",children:"World Food"})}),e.jsx("div",{id:"collapseTwo",className:"accordion-collapse collapse","data-bs-parent":"#menuAccordion",children:e.jsxs("div",{className:"accordion-body flex-column",children:[e.jsx("div",{className:"textSearchMenu",onClick:()=>s("chinese"),children:"Chinese"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("Turkish"),children:"Turkish"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("Indian"),children:"Indian"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("Thai"),children:"Thai"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("Moroccan"),children:"Moroccan"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("Mexican"),children:"Mexican"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("japanese"),children:"Japanese"})]})})]}),e.jsxs("div",{className:"accordion-item",children:[e.jsx("h2",{className:"accordion-header",children:e.jsx("button",{className:"accordion-button bg-light collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false",children:"Others"})}),e.jsx("div",{id:"collapseThree",className:"accordion-collapse collapse","data-bs-parent":"#menuAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsx("div",{className:"textSearchMenu",onClick:()=>s("vegan"),children:"Vegan"}),e.jsx("div",{className:"textSearchMenu",onClick:()=>s("Vegetarian"),children:"Vegetarian"})]})})]})]})})]})}function E(){return e.jsx("div",{className:"subscribeSection",children:e.jsxs("div",{className:"container p-2 p-lg-5 border rounded-4 shadow-sm bg-danger mx-2 w-lg-100 ",children:[e.jsx("h4",{className:"mx-0 py-2 px-0 mx-lg-5 px-lg-5 text-white text-center",children:"Be the first to know about the latest deal, receive new trending recipes & more"}),e.jsx("form",{className:"d-flex   content-center ",children:e.jsxs("div",{className:" d-lg-flex w-100 w-lg-75 mx-auto",children:[e.jsx("input",{type:"text",className:"form-control rounded-pill bg-danger border border-white text-white",id:"mail",placeholder:"e-mail address"}),e.jsx("button",{type:"button",className:"btn mx-3 fs-5 px-3 rounded-pill",children:"Subscribe"})]})})]})})}function b({title:t,videoUrl:s,id:n,isRecipe:r}){let o="/recipe?id="+n,d=y();return e.jsxs("div",{className:"card shadow-sm h-100  rounded-4 ",id:"card",children:[e.jsx("iframe",{className:" rounded-4",src:s,title:"videoframe",frameBorder:"0",allow:`accelerometer;\r
           autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share`,referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0}),e.jsx("div",{className:"card-body",onClick:r?()=>{d(o)}:void 0,children:e.jsx("h5",{className:"card-title",children:t})})]})}function F({keyword:t}){const[s,n]=i.useState(t),[r,o]=i.useState("videos"),[d,x]=i.useState([]),[N,S]=i.useState([]),[O,v]=i.useState(!0),w=[{title:"How to choose your Vegetables",url:"https://www.youtube.com/embed/KAYJ4-lRTgw"},{title:"Air Fryer Chicken & Veggies ",url:"https://www.youtube.com/embed/zfq_piABTaw"},{title:"The best Cake from Paris",url:"https://www.youtube.com/embed/2nQKUh9G0k4"},{title:"AVOID These 13 Foods",url:"https://www.youtube.com/embed/pdf3eZyupVc"}];async function g(){v(!0);try{const a="https://www.themealdb.com/api/json/v1/1/filter.php?c="+s,l=["https://www.themealdb.com/api/json/v1/1/filter.php?a="+s,"https://www.themealdb.com/api/json/v1/1/filter.php?c="+s,"https://www.themealdb.com/api/json/v1/1/filter.php?i="+s],p=await Promise.all(l.map(c=>fetch(c))),j=(await Promise.all(p.map(c=>c.json()))).flatMap(c=>c.meals||[]).filter((c,h,m)=>h===m.findIndex(k=>k.idMeal===c.idMeal));if(j.length>4){let c=Math.floor(Math.random()*(j.length-3)),h=[];for(let m=c;m<4+c;m++)h.push(j[m]);x(h),console.log(h)}}catch(a){console.error("Erreur API :",a)}v(!1)}i.useEffect(()=>{g()},[s]),i.useEffect(()=>{n(t)},[t]);async function M(){let a=t;try{const{data:l}=await T.post("https://corentinchan.de/searchRecipeYT",{textSearch:a},{headers:{"Content-Type":"application/json"},withCredentials:!0});let p=l.recipes;p.forEach(u=>{let f=u.description.replace("watch?v=","embed/");u.description=f}),S(p),console.log("RÃ©ponse backend recipesreco :",l)}catch(l){console.error("error axios :",l)}}const C=a=>{o(a.target.value),a.target.value==="random"&&g(),a.target.value==="recipes"&&M()};return e.jsxs("div",{className:"videoSection my-5 m-lg-5   ",children:[e.jsxs("div",{className:"videoTitle m-3 m-lg-5 ",children:[e.jsx("h2",{children:"VIDEOS"}),e.jsxs("select",{className:"form-select fs-5 rounded-pill  .form-select-video",defaultValue:"videos",onChange:C,children:[e.jsx("option",{disabled:!0,children:"Sort by : "}),e.jsx("option",{value:"videos",children:"Videos"}),e.jsx("option",{value:"recipes",children:"Recipes"})]})]}),e.jsxs("div",{className:"videos-container m-lg-5 p-3 overflow-x",id:"videos-container",children:[r==="videos"&&w.map((a,l)=>e.jsx(b,{title:a.title,videoUrl:a.url},l)),r==="recipes"&&N.map(a=>e.jsx(b,{id:a.id,isRecipe:!0,title:a.title,videoUrl:a.description},a.id))]})]})}function P({user:t}){const[s,n]=i.useState("chinese"),[r,o]=i.useState(!1),[d,x]=i.useState("");return e.jsxs("div",{children:[e.jsxs("main",{children:[e.jsx("title",{children:"Home | App Recipe"}),e.jsx("meta",{name:"description",content:"Page d'accueil de recipe app"})]}),e.jsx("section",{className:"signup-container tilt1 ",children:e.jsx("div",{className:" container-fluid ms-2 ms-lg-5 my-5 ",children:e.jsx("div",{className:"p-4 border rounded-4 shadow-sm text-white background-perso",children:e.jsxs("div",{className:"signup-text",children:[e.jsx("h1",{children:"CHOOSE FROM THOUSANDS OF RECIPES"}),t?e.jsxs("h3",{className:"mb-3 ",children:[" ","Welcome! Now, add your own recipes on account page, comment your favorite recipes and many more"]}):e.jsxs(e.Fragment,{children:[" ",e.jsxs("h3",{className:"mb-3 ",children:[" ","sign up to access to a lot of recipes, add your own recipes, and many more"]}),e.jsxs("a",{className:" d-flex text-decoration-none text-white",children:[e.jsx("h3",{onClick:()=>o(!0),children:"Sign up today "}),e.jsx("i",{className:"fa-solid fa-arrow-right m-2 p-2 fa-lg"})," "]})," "]})]})})})}),r&&e.jsx(R,{setShowSignup:o}),e.jsxs("div",{className:"recipeGroup ms-lg-5",children:[e.jsx(V,{keyword:s,setKeyword:n}),e.jsxs("div",{className:"recipe-container",children:[e.jsx("div",{className:"searchHome",children:e.jsx(A,{keyword:s,setKeyword:n,filter:d,setFilter:x})}),e.jsx("div",{className:"ms-lg-0 recipeList ",children:e.jsx(D,{keyword:s,filter:d})})]})]}),e.jsx(F,{keyword:s}),e.jsx(E,{})]})}export{P as default};
