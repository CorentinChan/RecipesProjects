import{r as t,j as e,a as f,u as k}from"./index-CZvMQIhm.js";import{C as I}from"./cardUser-Cky0Y7pn.js";function Y({user:h,userRole:g}){const[m,i]=t.useState(""),[r,n]=t.useState(""),[l,c]=t.useState(""),[s,o]=t.useState("");async function p(){console.log(m);let d=r,N=l,b=m;try{const{data:j}=await f.post("undefined/changePassword",{passwordNew:d,passwordNew2:N,passwordCurrent:b},{headers:{"Content-Type":"application/json"},withCredentials:!0});o(j.message),console.log("Réponse backend :",j)}catch(j){console.error("Erreur lors de la connexion :",j),o(j.response?.data?.message||"Erreur réseau")}}return e.jsxs("div",{children:[e.jsx("button",{type:"button",className:" bg-transparent border-0","data-bs-toggle":"modal","data-bs-target":"#passwordModal",children:e.jsxs("div",{className:"logo1  p-3  px-lg-3 align-items-center text-center border-end",children:[e.jsx("i",{className:"fa-solid fa-key fs-3"}),e.jsx("p",{className:"m-0 p-0",children:"Change password"})]})}),e.jsx("div",{className:"modal fade mt-5",id:"passwordModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Modify your password"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("form",{id:"changePasswordForm",onSubmit:p,children:e.jsxs("div",{className:"modal-body d-flex flex-column align-items-center",children:[e.jsx("label",{className:"form-label",children:"Current password"}),e.jsx("input",{type:"password",className:"form-control form-control-sm mb-5 p-2 w-75",minLength:"4",name:"passwordCurrent",value:m,onChange:d=>i(d.target.value)}),e.jsx("label",{className:"form-label",children:"New password"}),e.jsx("input",{type:"password",className:"form-control form-control-sm mb-5 p-2 w-75",minLength:"4",name:"passwordNew",value:r,onChange:d=>n(d.target.value)}),e.jsx("label",{className:"form-label",children:"Retype password"}),e.jsx("input",{type:"password",className:"form-control form-control-sm mb-5 p-2 w-75",minLength:"4",name:"passwordNew2",value:l,onChange:d=>c(d.target.value)})]})}),e.jsx("p",{className:"text-center  text-info",children:s}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),e.jsx("button",{type:"button",className:"btn btn-primary",id:"changePasswordButton",onClick:p,children:"Change password"})]})]})})})]})}function q({user:h,profilParent:g,setProfilParent:m}){const[i,r]=t.useState(""),[n,l]=t.useState(""),c=k();t.useEffect(()=>{r(g)},[g]);async function s(o){o.preventDefault(),console.log(i);try{let p=i.pseudo,d=i.image,N=i.description;const{data:b}=await f.post("undefined/modifyProfil",{pseudo:p,image:d,description:N},{headers:{"Content-Type":"application/json"},withCredentials:!0});l(b.message),console.log("Réponse backend :",b),b.message==="Profil udpated"&&(console.log("succeed"),c(0))}catch(p){console.error("Erreur lors de la connexion :",p),l(p.response?.data?.message||"Erreur réseau")}}return e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"bg-transparent border-0 p-0 m-0","data-bs-toggle":"modal","data-bs-target":"#profilModal",children:e.jsxs("div",{className:"logo3 p-3 px-4 px-lg-5 text-center border-end",children:[e.jsx("i",{className:"fa-solid fa-users fs-3"}),e.jsx("p",{className:"m-0 p-0",children:"Modify profil"})]})}),e.jsx("div",{className:"modal fade mt-5",id:"profilModal",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog",children:e.jsx("div",{className:"modal-content",children:e.jsxs("form",{onSubmit:s,children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Modify Profil"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsxs("div",{className:"modal-body d-flex flex-column align-items-center",children:[e.jsx("label",{htmlFor:"pseudo",className:"form-label",children:"Pseudo"}),e.jsx("input",{className:"form-control form-control-sm mb-5 p-2 w-75",type:"text",minLength:3,value:i.pseudo,onChange:o=>r(p=>({...p,pseudo:o.target.value}))}),e.jsx("label",{htmlFor:"image",className:"form-label",children:"Your Picture"}),e.jsx("input",{className:"form-control form-control-sm mb-5 p-2 w-100",type:"text",placeholder:"",name:"image",minLength:3,value:i.image,onChange:o=>r(p=>({...p,image:o.target.value}))}),e.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),e.jsx("textarea",{className:"form-control mb-5 p-2 w-100",placeholder:"description",name:"description",minLength:3,value:i.description,onChange:o=>r(p=>({...p,description:o.target.value}))}),e.jsx("p",{className:"text-center text-info",children:n})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save changes"})]})]})})})})]})}function J(){const h=k(),[g,m]=t.useState(""),[i,r]=t.useState(""),[n,l]=t.useState([]),[c,s]=t.useState(""),[o,p]=t.useState(""),[d,N]=t.useState(""),[b,j]=t.useState(""),[S,F]=t.useState(""),[T,G]=t.useState(""),[L,O]=t.useState(""),[y,P]=t.useState(Array(3).fill(null)),[v,E]=t.useState(Array(2).fill(null)),[w,A]=t.useState(Array(2).fill(null)),[C,D]=t.useState([""]),$=()=>P([...y,""]),B=()=>{E([...v,""]),A([...w,""])},z=()=>D([...C,""]),R=(a,u,x,Z)=>{const M=[...Z];M[u]=x,a(M)};t.useEffect(()=>{async function a(){const x=await(await fetch("undefined/getCategory",{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();console.log("Réponse backend cat :",x.category),l(x.category),x.category&&x.category.length>0&&r(x.category[0].id)}a()},[]);async function U(a){a.preventDefault();let u=i;console.log({steps:y,ingredients:v,measures:w,tags:C,categoryID:u});try{const{data:x}=await f.post("undefined/createRecipe",{title:c,image:o,description:d,activeTime:b,totalTime:S,nbPerson:T,categoryID:u,author:L,steps:y,ingredients:v,tags:C,measures:w},{headers:{"Content-Type":"application/json"},withCredentials:!0});m(x.message),console.log("Réponse backend :",x),x.succeed&&(console.log("succed"),h(0))}catch(x){console.error("Erreur lors de la connexion :",x),m(x.response?.data?.message||"Erreur réseau")}}return e.jsxs("form",{onSubmit:U,children:[e.jsx("section",{className:"recipeTitle gx-0",children:e.jsxs("div",{className:"container justify-content-center",children:[e.jsx("h3",{className:"m-5 p-3 text-center bg-danger rounded-4 text-white",children:"Write your own recipe!"}),e.jsx("label",{className:"form-label",children:"Recipe Picture"}),e.jsx("input",{className:"form-control form-control-sm mb-5 p-2 w-100",type:"text",maxLength:3e3,placeholder:"enter picture url",value:o,onChange:a=>p(a.target.value)}),e.jsx("label",{className:"form-label",children:"Recipe Title"}),e.jsx("input",{className:"form-control form-control-sm mb-5 p-2 w-100",type:"text",placeholder:"enter title recipe",value:c,onChange:a=>s(a.target.value),maxLength:37}),e.jsx("label",{className:"form-label",children:"Recipe Description"}),e.jsx("input",{className:"form-control form-control-sm mb-5 p-2 w-100",type:"text",maxLength:100,placeholder:"enter description recipe",value:d,onChange:a=>N(a.target.value)}),e.jsxs("div",{className:"d-flex text-center descriptionLogos border",children:[e.jsxs("div",{className:"logo1 p-2 mx-2 m-lg-3 px-lg-5 text-center border-end",children:[e.jsx("i",{className:"fa-regular fa-clock fs-3 rotatec"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"enter active time",maxLength:20,value:b,onChange:a=>j(a.target.value)})]}),e.jsxs("div",{className:"logo2 p-2 mx-2 m-lg-3 px-lg-5 text-center border-end",children:[e.jsx("i",{className:"fa-solid fa-clock-rotate-left fs-3 rotatec"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"enter total time",maxLength:20,value:S,onChange:a=>F(a.target.value)})]}),e.jsxs("div",{className:"logo3 p-2 mx-2 m-lg-3 px-lg-5 text-center",children:[e.jsx("i",{className:"fa-solid fa-users fs-3"}),e.jsx("input",{className:"form-control form-control-sm",type:"text",placeholder:"enter yield",maxLength:20,value:T,onChange:a=>G(a.target.value)})]})]}),e.jsx("div",{className:"d-flex mt-5 bottomDescription",children:e.jsxs("div",{className:"container",children:[e.jsx("label",{className:"form-label",children:"Recipe Author"}),e.jsx("input",{className:"form-control form-control-sm mb-5 p-2 w-100",type:"text",placeholder:"enter name author",value:L,onChange:a=>O(a.target.value),maxLength:20})]})})]})}),e.jsxs("div",{className:"justify-conten-center align-items-center",children:[e.jsx("label",{htmlFor:"",className:"form-label",children:"Category"}),e.jsxs("select",{className:"form-select  mb-5 p-2","aria-label":"Default select example",onChange:a=>r(a.target.value),value:i,children:[e.jsx("option",{disabled:!0,children:"choose category"}),n.map(a=>e.jsx("option",{value:a.id,children:a.name},`category+${a.id}`))]})]}),e.jsxs("section",{className:"m-1 p-1 m-lg-5 p-lg-3 makeRecipe-container",children:[e.jsx("div",{className:"recipeLeft",children:e.jsxs("div",{className:"recipeSteps",children:[e.jsx("h2",{className:"mt-5 my-lg-0",children:"How to make it"}),e.jsx("ol",{className:"mt-lg-4 list-group instructionsList",children:y.map((a,u)=>e.jsxs("li",{className:"list-group-item border-0 mb-2",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fa-regular fa-circle-check fs-2 me-3"}),e.jsxs("h4",{className:"text-danger pt-1",children:["STEP ",u+1]})]}),e.jsx("div",{className:"border-top my-2"}),e.jsx("input",{className:"form-control form-control-sm m-2 p-2 w-100",type:"text",placeholder:`write step ${u+1}`,value:a,onChange:x=>R(P,u,x.target.value,y)})]},u))}),e.jsx("i",{className:"fa-regular fa-plus fs-5 my-2 mx-3  clickable",onClick:$,children:e.jsx("span",{className:"",children:"Add more steps"})})]})}),e.jsxs("div",{className:"recipeRight",children:[e.jsxs("div",{className:"d-lg-flex mt-5 mt-lg-0 recipeIngredients",children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Ingredients"}),e.jsx("ul",{className:"list-group list-unstyled ingredientsList",children:v.map((a,u)=>e.jsx("li",{className:"mb-2",children:e.jsx("input",{className:"form-control form-control-sm m-2 p-2 w-100",type:"text",placeholder:`write ingredient ${u+1}`,value:a,onChange:x=>R(E,u,x.target.value,v)})},u))})]}),e.jsxs("div",{children:[e.jsx("h2",{children:"Measure"}),e.jsx("ul",{className:"list-group measureList list-unstyled",children:w.map((a,u)=>e.jsx("li",{className:"mb-2",children:e.jsx("input",{className:"form-control form-control-sm m-2  p-2 w-100",type:"text",placeholder:`write measure ${u+1}`,value:a,onChange:x=>R(A,u,x.target.value,w)})},u))})]})]}),e.jsx("i",{className:"fa-regular fa-plus  fs-5 my-2 mb-3  mx-3 clickable",onClick:B,children:e.jsx("span",{className:"",children:"Add more ingredients"})}),e.jsxs("div",{className:"pt-3 mt-3",children:[e.jsx("h3",{children:"Tags"}),e.jsx("div",{className:"dflex tags",children:C.map((a,u)=>e.jsx("input",{className:"form-control form-control-sm m-2 p-2 w-100",type:"text",placeholder:`write TAG ${u+1}`,value:a,onChange:x=>R(D,u,x.target.value,C)},u))}),e.jsx("i",{className:"fa-regular fa-plus  fs-5 my-2 mb-3 mx-3 clickable",onClick:z,children:e.jsx("span",{className:"",children:"Add more tags"})})]})]})]}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsx("button",{type:"submit",className:"text-center btn btn-danger p-3 px-5 mb-5 fs-4 rounded-pill",children:"Submit"})})]})}function K({user:h,userRole:g}){const[m,i]=t.useState(""),[r,n]=t.useState("");return t.useEffect(()=>{async function l(){const s=(await f.get("undefined/getProfil",{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;console.log("Réponse backend cat :",s),i(s.user),(!s.user.image||s.user.image==="")&&(s.user.image="https://picsum.photos/400/250?random=1")}l()},[]),e.jsx("div",{className:"d-lg-flex container mx-lg-5 px-lg-5",children:m&&h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-lg-6 justify-content-center",children:e.jsxs("div",{className:"mx-lg-5 pt-3 descriptionRecipe",children:[e.jsxs("h1",{className:"fade-in fs-1 text-center mx-lg-5 mt-3 my-lg-5 mb-4",children:["Bonjour,",g==="admin"&&e.jsx("span",{className:"text-warning",children:" Master"})," ",h," !"]}),e.jsxs("div",{className:"d-flex text-center descriptionLogos border-bottom border-top",children:[e.jsx(Y,{}),e.jsx(q,{profilParent:m,setProfilParent:i}),e.jsx("button",{type:"button",className:"bg-transparent border-0 p-0 m-0","data-bs-toggle":"modal","data-bs-target":"#modalCreateRecipe",children:e.jsxs("div",{className:"logo3 p-3 px-lg-5 text-center",children:[e.jsx("i",{className:"fa-solid fa-utensils fs-3"}),e.jsx("p",{className:"m-0 p-0",children:"Create recipe"})]})}),e.jsx("div",{className:"modal fade",id:"modalCreateRecipe",tabIndex:-1,"aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-fullscreen",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",id:"exampleModalLabel",children:"Create your Recipe"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),e.jsx("div",{className:"modal-body",children:e.jsx(J,{})})]})})})]}),e.jsx("div",{className:"text-center fst-italic m-3 py-lg-2 px-lg-5",children:m?.description}),e.jsx("div",{class:" d-flex justify-content-center",children:e.jsx("form",{method:"post",action:"/deleteProfil",onsubmit:" confirm('Are you sure? all data will be deleted');",children:e.jsx("button",{class:"btn-danger bg-danger rounded-pill",type:"submit",children:"Delete Profil"})})})]})}),e.jsx("div",{className:"col-lg-6",children:e.jsx("div",{className:"justify-content-center image-container",children:e.jsx("img",{src:m?.image,className:"tilt1 pt-3 rounded-5 recipePhoto",alt:"image"})})})]})})}function Q(){const[h,g]=t.useState([]),[m,i]=t.useState([]);k();async function r(){const s=(await f.get("undefined/getComments",{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;console.log("Réponse backend account:",s),i(s.notes),g(s.comments)}t.useEffect(()=>{r()},[]);async function n(c){c.preventDefault();let s=c.target.value;console.log(s);try{const{data:o}=await f.post("undefined/deleteComm",{recipeID:s},{headers:{"Content-Type":"application/json"},withCredentials:!0});console.log("Réponse backend delete comm :",o),o.check&&r()}catch(o){console.error("Erreur lors de la connexion :",o)}}async function l(c){c.preventDefault();let s=c.target.value;console.log(s);try{const{data:o}=await f.post("undefined/deleteNote",{recipeID:s},{headers:{"Content-Type":"application/json"},withCredentials:!0});console.log("Réponse backend delete own :",o),o.check&&r()}catch(o){console.error("Erreur lors de la connexion :",o)}}return e.jsx("div",{className:"d-flex justify-content-center m-2 m-lg-5",id:"comment",children:e.jsxs("div",{className:"accordion accordion-flush bg-light w-75 w-sm-100 justify-content-center mt-3 text-center mx-2 me-4",id:"accordionFlushExample",children:[e.jsxs("div",{className:"accordion-item text-center w-100",children:[e.jsx("h2",{className:"accordion-header",id:"flush-headingOne",children:e.jsx("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseOne","aria-expanded":"false","aria-controls":"flush-collapseOne",children:"My Comments"})}),e.jsx("div",{id:"flush-collapseOne",className:"accordion-collapse collapse","aria-labelledby":"flush-headingOne","data-bs-parent":"#accordionFlushExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{className:"list-unstyled",children:h.map((c,s)=>e.jsxs("li",{className:"d-lg-flex flex-column bg-warning-subtle mb-2 p-1 rounded-pill border",children:[e.jsxs("p",{children:[c.title," : "]}),e.jsx("p",{children:c.commentaire}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"rounded-5 bg-danger",value:c.recipeID,onClick:n,children:"Delete"})})]},`comlist${s}`))})})})]}),e.jsxs("div",{className:"accordion-item w-100",children:[e.jsx("h2",{className:"accordion-header",id:"flush-headingTwo",children:e.jsx("button",{className:"accordion-button collapsed text-center",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo",children:"My notes"})}),e.jsx("div",{id:"flush-collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"flush-headingTwo","data-bs-parent":"#accordionFlushExample",children:e.jsx("div",{className:"accordion-body",children:e.jsx("ul",{className:"list-unstyled",children:m.map((c,s)=>e.jsxs("li",{className:"d-flex flex-column  justify-content-center bg-warning-subtle mb-2 p-1 rounded-pill border",children:[e.jsx("p",{className:"text-center me-1",children:c.title}),e.jsxs("p",{children:["note : ",c.note," / 5"]}),e.jsx("div",{children:e.jsx("button",{className:"btn-danger bg-danger border-1 rounded-5 mx-2 mx-lg-5",value:c.recipeID,type:"button",onClick:l,children:"Delete"})})]},`notelist${s}`))})})})]})]})})}function V(){k();const[h,g]=t.useState([]);async function m(){const n=(await f.get("undefined/getRecipesList",{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;console.log("Réponse backend account:",n),g(n.recipesList)}t.useEffect(()=>{m()},[]);async function i(r){let n="favoris";console.log(r);try{const{data:l}=await f.post("undefined/deleteRecipeList",{recipeID:r,type:n},{headers:{"Content-Type":"application/json"},withCredentials:!0});console.log("Réponse backend delete list :",l),l.check&&(console.log("delete recipelist"),m())}catch(l){console.error("Erreur lors de la connexion :",l)}}return e.jsxs("div",{className:" container-fluid py-5",id:"fav",children:[e.jsx("div",{className:"videoTitle m-3 m-lg-5 justify-content-center",children:e.jsx("h2",{className:"bg-danger-subtle text-danger border rounded-pill p-2",children:"Your favorites recipes"})}),e.jsx("div",{className:" m-lg-5 d-flex flex-nowrap  overflow-x z-5",id:"videos-container",children:h&&h.map((r,n)=>{const l=String(r.id);return e.jsxs("div",{className:"cardExt",children:[e.jsx(I,{id:l,title:r.title,img:r.image?r.image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwAdnj607fkyztZ3TkKVTdEy-FG-tD-gEGJQ&s"}),e.jsx("div",{className:"d-flex flex-column flex-lg-row justify-content-around ",children:e.jsx("button",{className:"btn  text-center rounded-pill mx-1  mb-2 bg-danger border border-black",name:"deleteOwn",onClick:()=>i(l),children:"Delete"})})]},`recipeList ${l}`)})})]})}function H(){const h=k(),[g,m]=t.useState([]);async function i(){const l=(await f.get("undefined/getOwnRecipes",{headers:{"Content-Type":"application/json"},withCredentials:!0})).data;console.log("Réponse backend account:",l),m(l.ownRecipes)}t.useEffect(()=>{i()},[]);async function r(n){n.preventDefault();let l=n.target.value,c="ownrecipe";console.log(l);try{const{data:s}=await f.post("undefined/deleteRecipeList",{recipeID:l,type:c},{headers:{"Content-Type":"application/json"},withCredentials:!0});console.log("Réponse backend delete own :",s),s.check&&(console.log("delete ownrecipes"),i())}catch(s){console.error("Erreur lors de la connexion :",s)}}return e.jsxs("div",{className:" bg-light container-fluid py-5",id:"fav",children:[e.jsx("div",{className:"videoTitle m-3 m-lg-5 justify-content-center",children:e.jsx("h2",{className:"bg-danger-subtle text-danger border rounded-pill p-2",children:"Your own recipes"})}),e.jsx("div",{className:" m-lg-5 d-flex flex-nowrap  overflow-x z-6",id:"videos-container",children:g&&g.map((n,l)=>e.jsxs("div",{className:"cardExt",children:[e.jsx(I,{id:n.id,title:n.title,img:n.image?n.image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwAdnj607fkyztZ3TkKVTdEy-FG-tD-gEGJQ&s"}),e.jsxs("div",{className:"d-flex flex-column flex-lg-row justify-content-around  ",children:[e.jsx("button",{className:"btn  text-center rounded-pill mx-1  mb-2 bg-primary border border-black",onClick:()=>h("/modifyRecipe",{state:{recipeID:n.id}}),name:"modifyOwn",value:"recipe.id",children:"Modify"}),e.jsx("button",{className:"btn  text-center rounded-pill mx-1  mb-2 bg-danger border border-black",name:"deleteOwn",value:n.id,onClick:r,children:"Delete"})]})]},`ownrecipe ${n.id}`))})]})}function W(){const[h,g]=t.useState(""),[m,i]=t.useState(""),[r,n]=t.useState("");async function l(s){s.preventDefault();let o=s.target.value,p=h;console.log(o+"   "+p);try{const{data:d}=await f.post("undefined/giveAdmin",{act:o,pseudo:p},{headers:{"Content-Type":"application/json"},withCredentials:!0});n(p+" : "+d.message),console.log("Réponse backend delete comm :",d)}catch(d){console.error("Erreur lors de la connexion :",d),n(d.response?.data?.message||"Erreur réseau")}}async function c(s){s.preventDefault();let o=s.target.value,p=m;console.log(o);try{const{data:d}=await f.post("undefined/ban",{act:o,pseudo:p},{headers:{"Content-Type":"application/json"},withCredentials:!0});n(p+" : "+d.message),console.log("Réponse backend delete comm :",d)}catch(d){console.error("Erreur lors de la connexion :",d),n(d.response?.data?.message||"Erreur réseau")}}return e.jsxs("div",{className:" container-fluid  py-5   ",children:[e.jsx("div",{className:"videoTitle m-3 m-lg-5 justify-content-center",children:e.jsx("h2",{className:" bg-danger-subtle text-danger border rounded-pill p-2 ",children:"Admin Zone"})}),e.jsxs("div",{className:"d-flex  flex-column flex-lg-row justify-content-around",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{children:"BAN/UNBAN User :"}),e.jsx("p",{children:"type pseudo or mail"}),e.jsxs("form",{method:"post",action:"ban",children:[e.jsx("input",{type:"text",placeholder:"enter pseudo name ",minLength:"4",name:"pseudo",onChange:s=>i(s.target.value),value:m}),e.jsx("button",{type:"submit",className:"btn-warning bg-warning",name:"act",value:"ban",onClick:c,children:"BAN"}),e.jsx("button",{type:"submit",className:"btn-warning bg-primary",name:"act",value:"unban",onClick:c,children:"UNBAN"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{children:"Give Admin Right :"}),e.jsx("p",{children:"type pseudo or mail"}),e.jsx("input",{type:"text",placeholder:"enter pseudo name",minLength:"4",onChange:s=>g(s.target.value),value:h}),e.jsx("button",{type:"button",className:"btn-warning bg-primary",value:"giveAdmin",onClick:l,children:"Give"}),e.jsx("button",{type:"button",className:"btn-warning bg-warning",value:"removeAdmin",onClick:l,children:"Remove"})]})]}),e.jsx("p",{className:"text-center text-info",children:r})]})}function ee({user:h,userRole:g}){return h&&e.jsxs(e.Fragment,{children:[e.jsx(K,{user:h,userRole:g}),e.jsx(Q,{}),e.jsx(V,{}),e.jsx(H,{}),g==="admin"?e.jsx(W,{}):void 0]})}export{ee as default};
